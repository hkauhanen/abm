<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-04-23">

<title>A model of language learning</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../syllabus.html"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../lectures.html"> 
<span class="menu-text">Lectures</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../homework.html"> 
<span class="menu-text">Homework</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../solutions.html"> 
<span class="menu-text">Solutions</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../projects.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../bric-a-brac.html"> 
<span class="menu-text">Bric-a-brac</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    <div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="learning-slides.html"><i class="bi bi-file-slides"></i>RevealJS</a></li><li><a href="learning.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">A model of language learning</h1>
  <div class="quarto-categories">
    <div class="quarto-category">lecture</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Date</div>
    <div class="quarto-title-meta-contents">
      <p class="date">23 April 2024</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">7 May 2024</p>
    </div>
  </div>
    
  </div>
  


</header>


<div class="callout callout-style-default callout-important callout-titled" title="Update 7 May 2024">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Update 7 May 2024
</div>
</div>
<div class="callout-body-container callout-body">
<p>Fixed bug in the <code>learn!</code> function so that learning also occurs on strings in the intersection <span class="math inline">\(L_1 \cap L_2\)</span> of the two languages.</p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled" title="Update 30 April 2024">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Update 30 April 2024
</div>
</div>
<div class="callout-body-container callout-body">
<p>Fixed the set diagrams for <span class="math inline">\(L_1 \setminus L_2\)</span> and <span class="math inline">\(L_2 \setminus L_1\)</span>.</p>
</div>
</div>
<section id="plan" class="level2">
<h2 class="anchored" data-anchor-id="plan">Plan</h2>
<ul>
<li>Starting this week, we will put programming to good use</li>
<li>We’ll start with a simple model of language learning
<ul>
<li>Here, <strong>learning = process of updating a linguistic representation</strong></li>
<li>Doesn’t matter whether child or adult</li>
</ul></li>
</ul>
</section>
<section id="grammar-competition" class="level2">
<h2 class="anchored" data-anchor-id="grammar-competition">Grammar competition</h2>
<ul>
<li>Assume two grammars <span class="math inline">\(G_1\)</span> and <span class="math inline">\(G_2\)</span> that <strong>generate</strong> languages <span class="math inline">\(L_1\)</span> and <span class="math inline">\(L_2\)</span>
<ul>
<li>language = set of strings (e.g.&nbsp;sentences)</li>
</ul></li>
<li>In general, <span class="math inline">\(L_1\)</span> and <span class="math inline">\(L_2\)</span> will be different but may overlap:</li>
</ul>
<p><img src="../img/grammar_competition.png" class="img-fluid"></p>
</section>
<section id="grammar-competition-1" class="level2">
<h2 class="anchored" data-anchor-id="grammar-competition-1">Grammar competition</h2>
<ul>
<li>Three sets of interest: <span class="math inline">\(L_1 \setminus L_2\)</span>, <span class="math inline">\(L_1 \cap L_2\)</span> and <span class="math inline">\(L_2 \setminus L_1\)</span></li>
</ul>
<p><img src="../img/l1minusl2.png" class="img-fluid"></p>
<p><img src="../img/intersection.png" class="img-fluid"></p>
<p><img src="../img/l2minusl1.png" class="img-fluid"></p>
</section>
<section id="concrete-example" class="level2">
<h2 class="anchored" data-anchor-id="concrete-example">Concrete example</h2>
<ul>
<li>SVO (<span class="math inline">\(G_1\)</span>) vs.&nbsp;V2 (<span class="math inline">\(G_2\)</span>)</li>
</ul>
<p><img src="../img/svov2.png" class="img-fluid"></p>
</section>
<section id="grammar-competition-4" class="level2">
<h2 class="anchored" data-anchor-id="grammar-competition-4">Grammar competition</h2>
<ul>
<li>Suppose learner receives randomly chosen strings from <span class="math inline">\(L_1\)</span> and <span class="math inline">\(L_2\)</span></li>
<li>Learner uses either <span class="math inline">\(G_1\)</span> or <span class="math inline">\(G_2\)</span> to parse incoming string</li>
<li>Define <span class="math inline">\(p =\)</span> probability of use of <span class="math inline">\(G_1\)</span></li>
<li><strong>How should the learner update <span class="math inline">\(p\)</span> in response to interactions with his/her environment?</strong></li>
</ul>
</section>
<section id="variational-learning" class="level2">
<h2 class="anchored" data-anchor-id="variational-learning">Variational learning</h2>
<ul>
<li>Suppose learner receives string/sentence <span class="math inline">\(s\)</span></li>
<li>Then update is:</li>
</ul>
<table class="table">
<thead>
<tr class="header">
<th>Learner’s grammar</th>
<th>String received</th>
<th>Update</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(G_1\)</span></td>
<td><span class="math inline">\(s \in L_1\)</span></td>
<td>increase <span class="math inline">\(p\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(G_1\)</span></td>
<td><span class="math inline">\(s \in L_2 \setminus L_1\)</span></td>
<td>decrease <span class="math inline">\(p\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(G_2\)</span></td>
<td><span class="math inline">\(s \in L_2\)</span></td>
<td>decrease <span class="math inline">\(p\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(G_2\)</span></td>
<td><span class="math inline">\(s \in L_1 \setminus L_2\)</span></td>
<td>increase <span class="math inline">\(p\)</span></td>
</tr>
</tbody>
</table>
</section>
<section id="exercise" class="level2 ex">
<h2 class="ex anchored" data-anchor-id="exercise">Exercise</h2>
<p>How can we increase/decrease <span class="math inline">\(p\)</span> in practice? What is the update formula?</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Answer">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Answer
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>One possibility (which we will stick to):</p>
<ul>
<li>Increase: <span class="math inline">\(p\)</span> becomes <span class="math inline">\(p + \gamma (1 - p)\)</span></li>
<li>Decrease: <span class="math inline">\(p\)</span> becomes <span class="math inline">\(p - \gamma p\)</span></li>
</ul>
<p>The parameter <span class="math inline">\(0 &lt; \gamma &lt; 1\)</span> is a <strong>learning rate</strong></p>
</div>
</div>
</div>
</section>
<section id="why-this-form-of-update-formula" class="level2">
<h2 class="anchored" data-anchor-id="why-this-form-of-update-formula">Why this form of update formula?</h2>
<ul>
<li>Need to make sure that always <span class="math inline">\(0 \leq p \leq 1\)</span> (it is a probability)</li>
<li>Also notice:
<ul>
<li>When <span class="math inline">\(p\)</span> is increased, what is added is <span class="math inline">\(\gamma (1-p)\)</span>. Since <span class="math inline">\(1-p\)</span> is the probability of <span class="math inline">\(G_2\)</span>, this means <em>transferring an amount of the probability mass of <span class="math inline">\(G_2\)</span> onto <span class="math inline">\(G_1\)</span></em>.</li>
<li>When <span class="math inline">\(p\)</span> is decreased, what is removed is <span class="math inline">\(\gamma p\)</span>. Since <span class="math inline">\(p\)</span> is the probability of <span class="math inline">\(G_1\)</span>, this means <em>transferring an amount of the probability mass of <span class="math inline">\(G_1\)</span> onto <span class="math inline">\(G_2\)</span></em>.</li>
<li>Learning rate <span class="math inline">\(\gamma\)</span> determines how much probability mass is transferred.</li>
</ul></li>
</ul>
</section>
<section id="plan-1" class="level2">
<h2 class="anchored" data-anchor-id="plan-1">Plan</h2>
<ul>
<li>To implement a variational learner computationally, we need:
<ol type="1">
<li>A representation of a learner who embodies a single probability, <span class="math inline">\(p\)</span>, and a learning rate, <span class="math inline">\(\gamma\)</span></li>
<li>A way to sample strings from <span class="math inline">\(L_1 \setminus L_2\)</span> and from <span class="math inline">\(L_2 \setminus L_1\)</span></li>
<li>A function that updates the learner’s <span class="math inline">\(p\)</span></li>
</ol></li>
<li>Let’s attempt this now!</li>
</ul>
</section>
<section id="the-struct" class="level2">
<h2 class="anchored" data-anchor-id="the-struct">The struct</h2>
<ul>
<li>The first point is very easy:</li>
</ul>
<div id="7fe1f903" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">mutable struct</span> VariationalLearner</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  p<span class="op">::</span><span class="dt">Float64</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  gamma<span class="op">::</span><span class="dt">Float64</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="sampling-strings" class="level2">
<h2 class="anchored" data-anchor-id="sampling-strings">Sampling strings</h2>
<ul>
<li>For the second point, note we have three types of strings which occur with three corresponding probabilities</li>
<li>Let’s refer to the string types as <code>"S1"</code>, <code>"S12"</code> and <code>"S2"</code>, and to the probabilities as <code>P1</code>, <code>P12</code> and <code>P2</code>:</li>
</ul>
<table class="table">
<thead>
<tr class="header">
<th>String type</th>
<th>Probability</th>
<th>Explanation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>"S1"</code></td>
<td><code>P1</code></td>
<td><span class="math inline">\(s \in L_1 \setminus L_2\)</span></td>
</tr>
<tr class="even">
<td><code>"S12"</code></td>
<td><code>P12</code></td>
<td><span class="math inline">\(s \in L_1 \cap L_2\)</span></td>
</tr>
<tr class="odd">
<td><code>"S2"</code></td>
<td><code>P2</code></td>
<td><span class="math inline">\(s \in L_2 \setminus L_1\)</span></td>
</tr>
</tbody>
</table>
<ul>
<li>In Julia, sampling from a finite number of options (here, three string types) with corresponding probabilities is handled by a function called <code>sample()</code> which lives in the <code>StatsBase</code> package</li>
<li>First, install and load the package:</li>
</ul>
<div id="9e9753c7" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Pkg</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="bu">Pkg</span>.<span class="fu">add</span>(<span class="st">"StatsBase"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">StatsBase</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now to sample a string, you can do the following:</p>
<div id="279ee0ab" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># the three probabilities (just some numbers I invented)</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>P1 <span class="op">=</span> <span class="fl">0.4</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>P12 <span class="op">=</span> <span class="fl">0.5</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>P2 <span class="op">=</span> <span class="fl">0.1</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co"># sample one string</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sample</span>([<span class="st">"S1"</span>, <span class="st">"S12"</span>, <span class="st">"S2"</span>], <span class="fu">Weights</span>([P1, P12, P2]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>"S12"</code></pre>
</div>
</div>
</section>
<section id="tidying-up" class="level2">
<h2 class="anchored" data-anchor-id="tidying-up">Tidying up</h2>
<ul>
<li>The above works but is a bit cumbersome – for example, every time you want to sample a string, you need to refer to the three probabilities</li>
<li>Let’s carry out a bit of software engineering to make this nicer to use</li>
<li>First, we encapsulate the probabilities in a struct of their own:</li>
</ul>
<div id="9d64e50a" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> LearningEnvironment</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  P1<span class="op">::</span><span class="dt">Float64</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  P12<span class="op">::</span><span class="dt">Float64</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  P2<span class="op">::</span><span class="dt">Float64</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>We then define the following function:</li>
</ul>
<div id="753fd25a" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">sample_string</span>(x<span class="op">::</span><span class="dt">LearningEnvironment</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sample</span>([<span class="st">"S1"</span>, <span class="st">"S12"</span>, <span class="st">"S2"</span>], <span class="fu">Weights</span>([x.P1, x.P12, x.P2]))</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>sample_string (generic function with 1 method)</code></pre>
</div>
</div>
<ul>
<li>Test the function:</li>
</ul>
<div id="da6d8599" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>paris <span class="op">=</span> <span class="fu">LearningEnvironment</span>(<span class="fl">0.4</span>, <span class="fl">0.5</span>, <span class="fl">0.1</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sample_string</span>(paris)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>"S12"</code></pre>
</div>
</div>
</section>
<section id="implementing-learning" class="level2">
<h2 class="anchored" data-anchor-id="implementing-learning">Implementing learning</h2>
<ul>
<li>We now need to tackle point 3, the learning function which updates the learner’s state</li>
<li>This needs to do three things:
<ol type="1">
<li>Sample a string from the learning environment</li>
<li>Pick a grammar to try and parse the string with</li>
<li>Update <span class="math inline">\(p\)</span> in response to whether parsing was successful or not</li>
</ol></li>
</ul>
</section>
<section id="exercise-2" class="level2 ex">
<h2 class="ex anchored" data-anchor-id="exercise-2">Exercise</h2>
<p>How would you implement point 2, i.e.&nbsp;picking a grammar to try and parse the incoming string?</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Answer">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Answer
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>We can again use the <code>sample()</code> function from <code>StatsBase</code>, and define:</p>
<div id="fa7cb6ad" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">pick_grammar</span>(x<span class="op">::</span><span class="dt">VariationalLearner</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sample</span>([<span class="st">"G1"</span>, <span class="st">"G2"</span>], <span class="fu">Weights</span>([x.p, <span class="fl">1</span> <span class="op">-</span> x.p]))</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>pick_grammar (generic function with 1 method)</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="implementing-learning-1" class="level2">
<h2 class="anchored" data-anchor-id="implementing-learning-1">Implementing learning</h2>
<ul>
<li>Now it is easy to implement the first two points of the learning function:</li>
</ul>
<div id="70c919d5" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">learn!</span>(x<span class="op">::</span><span class="dt">VariationalLearner</span>, y<span class="op">::</span><span class="dt">LearningEnvironment</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  s <span class="op">=</span> <span class="fu">sample_string</span>(y)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  g <span class="op">=</span> <span class="fu">pick_grammar</span>(x)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>learn! (generic function with 1 method)</code></pre>
</div>
</div>
<ul>
<li>How to implement the last point, i.e.&nbsp;updating <span class="math inline">\(p\)</span>?</li>
</ul>
</section>
<section id="aside-conditional-statements" class="level2">
<h2 class="anchored" data-anchor-id="aside-conditional-statements">Aside: conditional statements</h2>
<ul>
<li>Here, we will be helped by <strong>conditionals</strong>:</li>
</ul>
<div id="516cce0d" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> COND1</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># this is executed if COND1 is true</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="cf">elseif</span> COND2</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># this is executed if COND1 is false but COND2 is true</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># this is executed otherwise</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Note: only the <code>if</code> block is necessary; <code>elseif</code> and <code>else</code> are optional, and there may be more than one <code>elseif</code> block</li>
</ul>
</section>
<section id="aside-conditional-statements-1" class="level2">
<h2 class="anchored" data-anchor-id="aside-conditional-statements-1">Aside: conditional statements</h2>
<ul>
<li>Try this for different values of <code>number</code>:</li>
</ul>
<div id="2b699748" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>number <span class="op">=</span> <span class="fl">1</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> number <span class="op">&gt;</span> <span class="fl">0</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">println</span>(<span class="st">"Your number is positive!"</span>)</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="cf">elseif</span> number <span class="op">&lt;</span> <span class="fl">0</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">println</span>(<span class="st">"Your number is negative!"</span>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">println</span>(<span class="st">"Your number is zero!"</span>)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="comparison-neq-assignment" class="level2">
<h2 class="anchored" data-anchor-id="comparison-neq-assignment">Comparison <span class="math inline">\(\neq\)</span> assignment</h2>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>To compare equality of two values inside a condition, you <strong>must</strong> use a double equals sign, <code>==</code>. This is because the single equals sign, <code>=</code>, is already reserved for assigning values to variables.</p>
<div id="e9f97ad9" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="fl">0</span> <span class="op">=</span> <span class="fl">1</span>    <span class="co"># throws an error!</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">println</span>(<span class="st">"The world is topsy-turvy"</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="fl">0</span> <span class="op">==</span> <span class="fl">1</span>   <span class="co"># works as expected</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">println</span>(<span class="st">"The world is topsy-turvy"</span>)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="exercise-4" class="level2 ex">
<h2 class="ex anchored" data-anchor-id="exercise-4">Exercise</h2>
<ul>
<li>Use an <code>if ... elseif ... else ... end</code> block to finish off our <code>learn!</code> function</li>
<li>Tip: logical “and” is <code>&amp;&amp;</code>, logical “or” is <code>||</code></li>
<li>Recall:</li>
</ul>
<table class="table">
<thead>
<tr class="header">
<th>Learner’s grammar</th>
<th>String received</th>
<th>Update</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(G_1\)</span></td>
<td><span class="math inline">\(s \in L_1\)</span></td>
<td>increase <span class="math inline">\(p\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(G_1\)</span></td>
<td><span class="math inline">\(s \in L_2 \setminus L_1\)</span></td>
<td>decrease <span class="math inline">\(p\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(G_2\)</span></td>
<td><span class="math inline">\(s \in L_2\)</span></td>
<td>decrease <span class="math inline">\(p\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(G_2\)</span></td>
<td><span class="math inline">\(s \in L_1 \setminus L_2\)</span></td>
<td>increase <span class="math inline">\(p\)</span></td>
</tr>
</tbody>
</table>
<div class="callout callout-style-default callout-tip callout-titled" title="Answer">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Answer
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><strong>Important!</strong> The following function, which we originally used, has a bug! It does not update the learner’s state with input strings from <span class="math inline">\(L_1 \cap L_2\)</span>. See below for fixed version.</p>
<div id="6493ee00" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">learn!</span>(x<span class="op">::</span><span class="dt">VariationalLearner</span>, y<span class="op">::</span><span class="dt">LearningEnvironment</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  s <span class="op">=</span> <span class="fu">sample_string</span>(y)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  g <span class="op">=</span> <span class="fu">pick_grammar</span>(x)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> g <span class="op">==</span> <span class="st">"G1"</span> <span class="op">&amp;&amp;</span> s <span class="op">==</span> <span class="st">"S1"</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    x.p <span class="op">=</span> x.p <span class="op">+</span> x.gamma <span class="op">*</span> (<span class="fl">1</span> <span class="op">-</span> x.p)</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elseif</span> g <span class="op">==</span> <span class="st">"G1"</span> <span class="op">&amp;&amp;</span> s <span class="op">==</span> <span class="st">"S2"</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    x.p <span class="op">=</span> x.p <span class="op">-</span> x.gamma <span class="op">*</span> x.p</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elseif</span> g <span class="op">==</span> <span class="st">"G2"</span> <span class="op">&amp;&amp;</span> s <span class="op">==</span> <span class="st">"S2"</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>    x.p <span class="op">=</span> x.p <span class="op">-</span> x.gamma <span class="op">*</span> x.p</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elseif</span> g <span class="op">==</span> <span class="st">"G2"</span> <span class="op">&amp;&amp;</span> s <span class="op">==</span> <span class="st">"S1"</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>    x.p <span class="op">=</span> x.p <span class="op">+</span> x.gamma <span class="op">*</span> (<span class="fl">1</span> <span class="op">-</span> x.p)</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">end</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> x.p</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Answer">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Answer
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div id="b41bf7cd" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">learn!</span>(x<span class="op">::</span><span class="dt">VariationalLearner</span>, y<span class="op">::</span><span class="dt">LearningEnvironment</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  s <span class="op">=</span> <span class="fu">sample_string</span>(y)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  g <span class="op">=</span> <span class="fu">pick_grammar</span>(x)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> g <span class="op">==</span> <span class="st">"G1"</span> <span class="op">&amp;&amp;</span> s <span class="op">!=</span> <span class="st">"S2"</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    x.p <span class="op">=</span> x.p <span class="op">+</span> x.gamma <span class="op">*</span> (<span class="fl">1</span> <span class="op">-</span> x.p)</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elseif</span> g <span class="op">==</span> <span class="st">"G1"</span> <span class="op">&amp;&amp;</span> s <span class="op">==</span> <span class="st">"S2"</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    x.p <span class="op">=</span> x.p <span class="op">-</span> x.gamma <span class="op">*</span> x.p</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elseif</span> g <span class="op">==</span> <span class="st">"G2"</span> <span class="op">&amp;&amp;</span> s <span class="op">!=</span> <span class="st">"S1"</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    x.p <span class="op">=</span> x.p <span class="op">-</span> x.gamma <span class="op">*</span> x.p</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elseif</span> g <span class="op">==</span> <span class="st">"G2"</span> <span class="op">&amp;&amp;</span> s <span class="op">==</span> <span class="st">"S1"</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    x.p <span class="op">=</span> x.p <span class="op">+</span> x.gamma <span class="op">*</span> (<span class="fl">1</span> <span class="op">-</span> x.p)</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">end</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> x.p</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>learn! (generic function with 1 method)</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="testing-our-code" class="level2">
<h2 class="anchored" data-anchor-id="testing-our-code">Testing our code</h2>
<ul>
<li>Let’s test our code!</li>
</ul>
<div id="8c3cf8d4" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>bob <span class="op">=</span> <span class="fu">VariationalLearner</span>(<span class="fl">0.5</span>, <span class="fl">0.01</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>paris <span class="op">=</span> <span class="fu">LearningEnvironment</span>(<span class="fl">0.4</span>, <span class="fl">0.5</span>, <span class="fl">0.1</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="fu">learn!</span>(bob, paris)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="fu">learn!</span>(bob, paris)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="fu">learn!</span>(bob, paris)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="fu">learn!</span>(bob, paris)</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="fu">learn!</span>(bob, paris)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>0.51489901495</code></pre>
</div>
</div>
<div id="6d6134df" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>trajectory <span class="op">=</span> [<span class="fu">learn!</span>(bob, paris) for t <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">1000</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>1000-element Vector{Float64}:
 0.5097500248005
 0.514652524552495
 0.5195059993069701
 0.5143109393139004
 0.5191678299207614
 0.5239761516215538
 0.5287363901053382
 0.5334490262042848
 0.5381145359422419
 0.5327333905828194
 0.5374060566769913
 0.5420319961102213
 0.5466116761491191
 ⋮
 0.8043883364948524
 0.7963444531299039
 0.7983810085986048
 0.7903971985126188
 0.7924932265274927
 0.7945682942622178
 0.7966226113195956
 0.7986563852063996
 0.7906698213543356
 0.7927631231407922
 0.7948354919093843
 0.7968871369902905</code></pre>
</div>
</div>
</section>
<section id="plotting-the-learning-trajectory" class="level2">
<h2 class="anchored" data-anchor-id="plotting-the-learning-trajectory">Plotting the learning trajectory</h2>
<div id="7e5922f1" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Plots</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fl">1</span><span class="op">:</span><span class="fl">1000</span>, trajectory)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<!--?xml version="1.0" encoding="utf-8"?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" width="672" height="480" viewbox="0 0 2688 1920">
<defs>
  <clippath id="clip310">
    <rect x="0" y="0" width="2688" height="1920"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip310)" d="M0 1920 L2688 1920 L2688 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip311">
    <rect x="537" y="0" width="1883" height="1883"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip310)" d="M159.154 1800.78 L2640.76 1800.78 L2640.76 47.2441 L159.154 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip312">
    <rect x="159" y="47" width="2483" height="1755"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip312)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="227.045,1800.78 227.045,47.2441 "></polyline>
<polyline clip-path="url(#clip312)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="812.914,1800.78 812.914,47.2441 "></polyline>
<polyline clip-path="url(#clip312)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1398.78,1800.78 1398.78,47.2441 "></polyline>
<polyline clip-path="url(#clip312)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1984.65,1800.78 1984.65,47.2441 "></polyline>
<polyline clip-path="url(#clip312)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2570.52,1800.78 2570.52,47.2441 "></polyline>
<polyline clip-path="url(#clip310)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="159.154,1800.78 2640.76,1800.78 "></polyline>
<polyline clip-path="url(#clip310)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="227.045,1800.78 227.045,1781.88 "></polyline>
<polyline clip-path="url(#clip310)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="812.914,1800.78 812.914,1781.88 "></polyline>
<polyline clip-path="url(#clip310)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1398.78,1800.78 1398.78,1781.88 "></polyline>
<polyline clip-path="url(#clip310)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1984.65,1800.78 1984.65,1781.88 "></polyline>
<polyline clip-path="url(#clip310)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2570.52,1800.78 2570.52,1781.88 "></polyline>
<path clip-path="url(#clip310)" d="M227.045 1834 Q223.434 1834 221.605 1837.57 Q219.799 1841.11 219.799 1848.24 Q219.799 1855.34 221.605 1858.91 Q223.434 1862.45 227.045 1862.45 Q230.679 1862.45 232.484 1858.91 Q234.313 1855.34 234.313 1848.24 Q234.313 1841.11 232.484 1837.57 Q230.679 1834 227.045 1834 M227.045 1830.3 Q232.855 1830.3 235.91 1834.9 Q238.989 1839.49 238.989 1848.24 Q238.989 1856.96 235.91 1861.57 Q232.855 1866.15 227.045 1866.15 Q221.235 1866.15 218.156 1861.57 Q215.1 1856.96 215.1 1848.24 Q215.1 1839.49 218.156 1834.9 Q221.235 1830.3 227.045 1830.3 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip310)" d="M776.606 1861.55 L792.926 1861.55 L792.926 1865.48 L770.981 1865.48 L770.981 1861.55 Q773.643 1858.79 778.227 1854.16 Q782.833 1849.51 784.014 1848.17 Q786.259 1845.65 787.139 1843.91 Q788.041 1842.15 788.041 1840.46 Q788.041 1837.71 786.097 1835.97 Q784.176 1834.23 781.074 1834.23 Q778.875 1834.23 776.421 1835 Q773.991 1835.76 771.213 1837.31 L771.213 1832.59 Q774.037 1831.46 776.491 1830.88 Q778.944 1830.3 780.981 1830.3 Q786.352 1830.3 789.546 1832.98 Q792.74 1835.67 792.74 1840.16 Q792.74 1842.29 791.93 1844.21 Q791.143 1846.11 789.037 1848.7 Q788.458 1849.37 785.356 1852.59 Q782.254 1855.78 776.606 1861.55 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip310)" d="M802.787 1830.92 L821.143 1830.92 L821.143 1834.86 L807.069 1834.86 L807.069 1843.33 Q808.088 1842.98 809.106 1842.82 Q810.125 1842.64 811.143 1842.64 Q816.93 1842.64 820.31 1845.81 Q823.689 1848.98 823.689 1854.4 Q823.689 1859.97 820.217 1863.08 Q816.745 1866.15 810.426 1866.15 Q808.25 1866.15 805.981 1865.78 Q803.736 1865.41 801.328 1864.67 L801.328 1859.97 Q803.412 1861.11 805.634 1861.66 Q807.856 1862.22 810.333 1862.22 Q814.338 1862.22 816.676 1860.11 Q819.014 1858.01 819.014 1854.4 Q819.014 1850.78 816.676 1848.68 Q814.338 1846.57 810.333 1846.57 Q808.458 1846.57 806.583 1846.99 Q804.731 1847.4 802.787 1848.28 L802.787 1830.92 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip310)" d="M842.902 1834 Q839.291 1834 837.462 1837.57 Q835.657 1841.11 835.657 1848.24 Q835.657 1855.34 837.462 1858.91 Q839.291 1862.45 842.902 1862.45 Q846.537 1862.45 848.342 1858.91 Q850.171 1855.34 850.171 1848.24 Q850.171 1841.11 848.342 1837.57 Q846.537 1834 842.902 1834 M842.902 1830.3 Q848.712 1830.3 851.768 1834.9 Q854.847 1839.49 854.847 1848.24 Q854.847 1856.96 851.768 1861.57 Q848.712 1866.15 842.902 1866.15 Q837.092 1866.15 834.013 1861.57 Q830.958 1856.96 830.958 1848.24 Q830.958 1839.49 834.013 1834.9 Q837.092 1830.3 842.902 1830.3 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip310)" d="M1358.4 1830.92 L1376.76 1830.92 L1376.76 1834.86 L1362.68 1834.86 L1362.68 1843.33 Q1363.7 1842.98 1364.72 1842.82 Q1365.74 1842.64 1366.76 1842.64 Q1372.55 1842.64 1375.92 1845.81 Q1379.3 1848.98 1379.3 1854.4 Q1379.3 1859.97 1375.83 1863.08 Q1372.36 1866.15 1366.04 1866.15 Q1363.86 1866.15 1361.6 1865.78 Q1359.35 1865.41 1356.94 1864.67 L1356.94 1859.97 Q1359.03 1861.11 1361.25 1861.66 Q1363.47 1862.22 1365.95 1862.22 Q1369.95 1862.22 1372.29 1860.11 Q1374.63 1858.01 1374.63 1854.4 Q1374.63 1850.78 1372.29 1848.68 Q1369.95 1846.57 1365.95 1846.57 Q1364.07 1846.57 1362.2 1846.99 Q1360.35 1847.4 1358.4 1848.28 L1358.4 1830.92 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip310)" d="M1398.52 1834 Q1394.91 1834 1393.08 1837.57 Q1391.27 1841.11 1391.27 1848.24 Q1391.27 1855.34 1393.08 1858.91 Q1394.91 1862.45 1398.52 1862.45 Q1402.15 1862.45 1403.96 1858.91 Q1405.79 1855.34 1405.79 1848.24 Q1405.79 1841.11 1403.96 1837.57 Q1402.15 1834 1398.52 1834 M1398.52 1830.3 Q1404.33 1830.3 1407.38 1834.9 Q1410.46 1839.49 1410.46 1848.24 Q1410.46 1856.96 1407.38 1861.57 Q1404.33 1866.15 1398.52 1866.15 Q1392.71 1866.15 1389.63 1861.57 Q1386.57 1856.96 1386.57 1848.24 Q1386.57 1839.49 1389.63 1834.9 Q1392.71 1830.3 1398.52 1830.3 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip310)" d="M1428.68 1834 Q1425.07 1834 1423.24 1837.57 Q1421.43 1841.11 1421.43 1848.24 Q1421.43 1855.34 1423.24 1858.91 Q1425.07 1862.45 1428.68 1862.45 Q1432.31 1862.45 1434.12 1858.91 Q1435.95 1855.34 1435.95 1848.24 Q1435.95 1841.11 1434.12 1837.57 Q1432.31 1834 1428.68 1834 M1428.68 1830.3 Q1434.49 1830.3 1437.54 1834.9 Q1440.62 1839.49 1440.62 1848.24 Q1440.62 1856.96 1437.54 1861.57 Q1434.49 1866.15 1428.68 1866.15 Q1422.87 1866.15 1419.79 1861.57 Q1416.73 1856.96 1416.73 1848.24 Q1416.73 1839.49 1419.79 1834.9 Q1422.87 1830.3 1428.68 1830.3 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip310)" d="M1942.93 1830.92 L1965.15 1830.92 L1965.15 1832.91 L1952.6 1865.48 L1947.72 1865.48 L1959.53 1834.86 L1942.93 1834.86 L1942.93 1830.92 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip310)" d="M1974.32 1830.92 L1992.67 1830.92 L1992.67 1834.86 L1978.6 1834.86 L1978.6 1843.33 Q1979.62 1842.98 1980.64 1842.82 Q1981.65 1842.64 1982.67 1842.64 Q1988.46 1842.64 1991.84 1845.81 Q1995.22 1848.98 1995.22 1854.4 Q1995.22 1859.97 1991.75 1863.08 Q1988.28 1866.15 1981.96 1866.15 Q1979.78 1866.15 1977.51 1865.78 Q1975.27 1865.41 1972.86 1864.67 L1972.86 1859.97 Q1974.94 1861.11 1977.16 1861.66 Q1979.39 1862.22 1981.86 1862.22 Q1985.87 1862.22 1988.21 1860.11 Q1990.54 1858.01 1990.54 1854.4 Q1990.54 1850.78 1988.21 1848.68 Q1985.87 1846.57 1981.86 1846.57 Q1979.99 1846.57 1978.11 1846.99 Q1976.26 1847.4 1974.32 1848.28 L1974.32 1830.92 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip310)" d="M2014.43 1834 Q2010.82 1834 2008.99 1837.57 Q2007.19 1841.11 2007.19 1848.24 Q2007.19 1855.34 2008.99 1858.91 Q2010.82 1862.45 2014.43 1862.45 Q2018.07 1862.45 2019.87 1858.91 Q2021.7 1855.34 2021.7 1848.24 Q2021.7 1841.11 2019.87 1837.57 Q2018.07 1834 2014.43 1834 M2014.43 1830.3 Q2020.24 1830.3 2023.3 1834.9 Q2026.38 1839.49 2026.38 1848.24 Q2026.38 1856.96 2023.3 1861.57 Q2020.24 1866.15 2014.43 1866.15 Q2008.62 1866.15 2005.54 1861.57 Q2002.49 1856.96 2002.49 1848.24 Q2002.49 1839.49 2005.54 1834.9 Q2008.62 1830.3 2014.43 1830.3 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip310)" d="M2515.05 1861.55 L2522.69 1861.55 L2522.69 1835.18 L2514.38 1836.85 L2514.38 1832.59 L2522.64 1830.92 L2527.32 1830.92 L2527.32 1861.55 L2534.95 1861.55 L2534.95 1865.48 L2515.05 1865.48 L2515.05 1861.55 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip310)" d="M2554.4 1834 Q2550.79 1834 2548.96 1837.57 Q2547.15 1841.11 2547.15 1848.24 Q2547.15 1855.34 2548.96 1858.91 Q2550.79 1862.45 2554.4 1862.45 Q2558.03 1862.45 2559.84 1858.91 Q2561.67 1855.34 2561.67 1848.24 Q2561.67 1841.11 2559.84 1837.57 Q2558.03 1834 2554.4 1834 M2554.4 1830.3 Q2560.21 1830.3 2563.26 1834.9 Q2566.34 1839.49 2566.34 1848.24 Q2566.34 1856.96 2563.26 1861.57 Q2560.21 1866.15 2554.4 1866.15 Q2548.59 1866.15 2545.51 1861.57 Q2542.45 1856.96 2542.45 1848.24 Q2542.45 1839.49 2545.51 1834.9 Q2548.59 1830.3 2554.4 1830.3 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip310)" d="M2584.56 1834 Q2580.95 1834 2579.12 1837.57 Q2577.32 1841.11 2577.32 1848.24 Q2577.32 1855.34 2579.12 1858.91 Q2580.95 1862.45 2584.56 1862.45 Q2588.2 1862.45 2590 1858.91 Q2591.83 1855.34 2591.83 1848.24 Q2591.83 1841.11 2590 1837.57 Q2588.2 1834 2584.56 1834 M2584.56 1830.3 Q2590.37 1830.3 2593.43 1834.9 Q2596.51 1839.49 2596.51 1848.24 Q2596.51 1856.96 2593.43 1861.57 Q2590.37 1866.15 2584.56 1866.15 Q2578.75 1866.15 2575.67 1861.57 Q2572.62 1856.96 2572.62 1848.24 Q2572.62 1839.49 2575.67 1834.9 Q2578.75 1830.3 2584.56 1830.3 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip310)" d="M2614.72 1834 Q2611.11 1834 2609.28 1837.57 Q2607.48 1841.11 2607.48 1848.24 Q2607.48 1855.34 2609.28 1858.91 Q2611.11 1862.45 2614.72 1862.45 Q2618.36 1862.45 2620.16 1858.91 Q2621.99 1855.34 2621.99 1848.24 Q2621.99 1841.11 2620.16 1837.57 Q2618.36 1834 2614.72 1834 M2614.72 1830.3 Q2620.53 1830.3 2623.59 1834.9 Q2626.67 1839.49 2626.67 1848.24 Q2626.67 1856.96 2623.59 1861.57 Q2620.53 1866.15 2614.72 1866.15 Q2608.91 1866.15 2605.83 1861.57 Q2602.78 1856.96 2602.78 1848.24 Q2602.78 1839.49 2605.83 1834.9 Q2608.91 1830.3 2614.72 1830.3 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip312)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="159.154,1800.11 2640.76,1800.11 "></polyline>
<polyline clip-path="url(#clip312)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="159.154,1298 2640.76,1298 "></polyline>
<polyline clip-path="url(#clip312)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="159.154,795.902 2640.76,795.902 "></polyline>
<polyline clip-path="url(#clip312)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="159.154,293.8 2640.76,293.8 "></polyline>
<polyline clip-path="url(#clip310)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="159.154,1800.78 159.154,47.2441 "></polyline>
<polyline clip-path="url(#clip310)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="159.154,1800.11 178.052,1800.11 "></polyline>
<polyline clip-path="url(#clip310)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="159.154,1298 178.052,1298 "></polyline>
<polyline clip-path="url(#clip310)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="159.154,795.902 178.052,795.902 "></polyline>
<polyline clip-path="url(#clip310)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="159.154,293.8 178.052,293.8 "></polyline>
<path clip-path="url(#clip310)" d="M62.6539 1785.9 Q59.0428 1785.9 57.2141 1789.47 Q55.4086 1793.01 55.4086 1800.14 Q55.4086 1807.25 57.2141 1810.81 Q59.0428 1814.35 62.6539 1814.35 Q66.2881 1814.35 68.0937 1810.81 Q69.9224 1807.25 69.9224 1800.14 Q69.9224 1793.01 68.0937 1789.47 Q66.2881 1785.9 62.6539 1785.9 M62.6539 1782.2 Q68.4641 1782.2 71.5196 1786.81 Q74.5983 1791.39 74.5983 1800.14 Q74.5983 1808.87 71.5196 1813.47 Q68.4641 1818.06 62.6539 1818.06 Q56.8438 1818.06 53.7651 1813.47 Q50.7095 1808.87 50.7095 1800.14 Q50.7095 1791.39 53.7651 1786.81 Q56.8438 1782.2 62.6539 1782.2 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip310)" d="M82.8158 1811.51 L87.7001 1811.51 L87.7001 1817.39 L82.8158 1817.39 L82.8158 1811.51 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip310)" d="M97.9315 1782.83 L116.288 1782.83 L116.288 1786.76 L102.214 1786.76 L102.214 1795.23 Q103.232 1794.89 104.251 1794.72 Q105.269 1794.54 106.288 1794.54 Q112.075 1794.54 115.455 1797.71 Q118.834 1800.88 118.834 1806.3 Q118.834 1811.88 115.362 1814.98 Q111.89 1818.06 105.57 1818.06 Q103.394 1818.06 101.126 1817.69 Q98.8806 1817.32 96.4732 1816.58 L96.4732 1811.88 Q98.5565 1813.01 100.779 1813.57 Q103.001 1814.12 105.478 1814.12 Q109.482 1814.12 111.82 1812.02 Q114.158 1809.91 114.158 1806.3 Q114.158 1802.69 111.82 1800.58 Q109.482 1798.47 105.478 1798.47 Q103.603 1798.47 101.728 1798.89 Q99.8759 1799.31 97.9315 1800.19 L97.9315 1782.83 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip310)" d="M61.4965 1283.8 Q57.8854 1283.8 56.0567 1287.37 Q54.2512 1290.91 54.2512 1298.04 Q54.2512 1305.15 56.0567 1308.71 Q57.8854 1312.25 61.4965 1312.25 Q65.1307 1312.25 66.9363 1308.71 Q68.765 1305.15 68.765 1298.04 Q68.765 1290.91 66.9363 1287.37 Q65.1307 1283.8 61.4965 1283.8 M61.4965 1280.1 Q67.3067 1280.1 70.3622 1284.71 Q73.4409 1289.29 73.4409 1298.04 Q73.4409 1306.77 70.3622 1311.37 Q67.3067 1315.96 61.4965 1315.96 Q55.6864 1315.96 52.6077 1311.37 Q49.5521 1306.77 49.5521 1298.04 Q49.5521 1289.29 52.6077 1284.71 Q55.6864 1280.1 61.4965 1280.1 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip310)" d="M81.6584 1309.4 L86.5427 1309.4 L86.5427 1315.28 L81.6584 1315.28 L81.6584 1309.4 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip310)" d="M107.306 1296.14 Q104.158 1296.14 102.306 1298.29 Q100.478 1300.45 100.478 1304.2 Q100.478 1307.92 102.306 1310.1 Q104.158 1312.25 107.306 1312.25 Q110.455 1312.25 112.283 1310.1 Q114.135 1307.92 114.135 1304.2 Q114.135 1300.45 112.283 1298.29 Q110.455 1296.14 107.306 1296.14 M116.589 1281.49 L116.589 1285.75 Q114.83 1284.91 113.024 1284.47 Q111.242 1284.03 109.482 1284.03 Q104.853 1284.03 102.399 1287.16 Q99.9685 1290.28 99.6213 1296.6 Q100.987 1294.59 103.047 1293.52 Q105.107 1292.44 107.584 1292.44 Q112.793 1292.44 115.802 1295.61 Q118.834 1298.76 118.834 1304.2 Q118.834 1309.52 115.686 1312.74 Q112.538 1315.96 107.306 1315.96 Q101.311 1315.96 98.1398 1311.37 Q94.9685 1306.77 94.9685 1298.04 Q94.9685 1289.84 98.8574 1284.98 Q102.746 1280.1 109.297 1280.1 Q111.056 1280.1 112.839 1280.45 Q114.644 1280.79 116.589 1281.49 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip310)" d="M62.5613 781.701 Q58.9502 781.701 57.1215 785.266 Q55.316 788.807 55.316 795.937 Q55.316 803.043 57.1215 806.608 Q58.9502 810.15 62.5613 810.15 Q66.1956 810.15 68.0011 806.608 Q69.8298 803.043 69.8298 795.937 Q69.8298 788.807 68.0011 785.266 Q66.1956 781.701 62.5613 781.701 M62.5613 777.997 Q68.3715 777.997 71.427 782.604 Q74.5057 787.187 74.5057 795.937 Q74.5057 804.664 71.427 809.27 Q68.3715 813.853 62.5613 813.853 Q56.7512 813.853 53.6725 809.27 Q50.6169 804.664 50.6169 795.937 Q50.6169 787.187 53.6725 782.604 Q56.7512 777.997 62.5613 777.997 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip310)" d="M82.7232 807.303 L87.6075 807.303 L87.6075 813.182 L82.7232 813.182 L82.7232 807.303 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip310)" d="M96.6121 778.622 L118.834 778.622 L118.834 780.613 L106.288 813.182 L101.404 813.182 L113.209 782.557 L96.6121 782.557 L96.6121 778.622 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip310)" d="M61.7511 279.599 Q58.14 279.599 56.3113 283.164 Q54.5058 286.705 54.5058 293.835 Q54.5058 300.941 56.3113 304.506 Q58.14 308.048 61.7511 308.048 Q65.3854 308.048 67.1909 304.506 Q69.0196 300.941 69.0196 293.835 Q69.0196 286.705 67.1909 283.164 Q65.3854 279.599 61.7511 279.599 M61.7511 275.895 Q67.5613 275.895 70.6168 280.502 Q73.6955 285.085 73.6955 293.835 Q73.6955 302.562 70.6168 307.168 Q67.5613 311.752 61.7511 311.752 Q55.941 311.752 52.8623 307.168 Q49.8068 302.562 49.8068 293.835 Q49.8068 285.085 52.8623 280.502 Q55.941 275.895 61.7511 275.895 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip310)" d="M81.9131 305.201 L86.7973 305.201 L86.7973 311.08 L81.9131 311.08 L81.9131 305.201 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip310)" d="M106.982 294.668 Q103.649 294.668 101.728 296.451 Q99.8296 298.233 99.8296 301.358 Q99.8296 304.483 101.728 306.265 Q103.649 308.048 106.982 308.048 Q110.316 308.048 112.237 306.265 Q114.158 304.46 114.158 301.358 Q114.158 298.233 112.237 296.451 Q110.339 294.668 106.982 294.668 M102.306 292.678 Q99.2972 291.937 97.6074 289.877 Q95.9408 287.816 95.9408 284.854 Q95.9408 280.71 98.8806 278.303 Q101.844 275.895 106.982 275.895 Q112.144 275.895 115.084 278.303 Q118.024 280.71 118.024 284.854 Q118.024 287.816 116.334 289.877 Q114.668 291.937 111.681 292.678 Q115.061 293.465 116.936 295.756 Q118.834 298.048 118.834 301.358 Q118.834 306.381 115.755 309.066 Q112.7 311.752 106.982 311.752 Q101.265 311.752 98.1861 309.066 Q95.1306 306.381 95.1306 301.358 Q95.1306 298.048 97.0287 295.756 Q98.9269 293.465 102.306 292.678 M100.594 285.293 Q100.594 287.978 102.26 289.483 Q103.95 290.988 106.982 290.988 Q109.992 290.988 111.681 289.483 Q113.394 287.978 113.394 285.293 Q113.394 282.608 111.681 281.104 Q109.992 279.599 106.982 279.599 Q103.95 279.599 102.26 281.104 Q100.594 282.608 100.594 285.293 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip312)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="229.388,1751.15 231.732,1726.54 234.075,1702.17 236.419,1728.25 238.762,1703.86 241.106,1679.72 243.449,1655.82 245.793,1632.16 248.136,1608.73 250.479,1635.75 252.823,1612.29 255.166,1589.06 257.51,1566.07 259.853,1543.3 262.197,1520.77 264.54,1498.45 266.884,1476.37 269.227,1454.5 271.571,1483.06 273.914,1461.12 276.258,1439.41 278.601,1417.91 280.945,1446.84 283.288,1475.48 285.632,1453.62 287.975,1431.98 290.319,1410.55 292.662,1439.55 295.006,1468.26 297.349,1496.69 299.692,1474.62 302.036,1502.98 304.379,1531.05 306.723,1508.64 309.066,1536.66 311.41,1564.4 313.753,1541.65 316.097,1519.13 318.44,1496.83 320.784,1474.76 323.127,1503.12 325.471,1480.99 327.814,1459.07 330.158,1487.59 332.501,1465.61 334.845,1443.85 337.188,1422.3 339.532,1451.19 341.875,1429.57 344.219,1408.17 346.562,1386.99 348.906,1416.22 351.249,1394.96 353.592,1373.9 355.936,1353.06 358.279,1382.63 360.623,1411.91 362.966,1390.69 365.31,1419.89 367.653,1398.59 369.997,1427.71 372.34,1456.54 374.684,1434.87 377.027,1463.63 379.371,1441.88 381.714,1420.36 384.058,1399.05 386.401,1377.96 388.745,1357.08 391.088,1386.61 393.432,1415.85 395.775,1444.8 398.119,1423.25 400.462,1452.12 402.805,1480.71 405.149,1458.79 407.492,1437.1 409.836,1415.63 412.179,1394.37 414.523,1373.32 416.866,1352.48 419.21,1331.85 421.553,1311.43 423.897,1291.21 426.24,1271.2 428.584,1301.59 430.927,1281.47 433.271,1311.76 435.614,1341.75 437.958,1371.44 440.301,1350.62 442.645,1330.01 444.988,1309.61 447.332,1289.41 449.675,1269.41 452.019,1299.82 454.362,1279.72 456.705,1259.82 459.049,1240.11 461.392,1270.82 463.736,1251.01 466.079,1231.39 468.423,1211.98 470.766,1242.96 473.11,1273.64 475.453,1253.8 477.797,1234.16 480.14,1214.71 482.484,1195.46 484.827,1226.61 487.171,1257.45 489.514,1287.98 491.858,1268 494.201,1248.21 496.545,1228.63 498.888,1209.24 501.232,1190.04 503.575,1171.04 505.918,1152.22 508.262,1133.6 510.605,1115.16 512.949,1096.9 515.292,1129.04 517.636,1160.85 519.979,1192.35 522.323,1223.53 524.666,1204.19 527.01,1185.05 529.353,1216.3 531.697,1197.04 534.04,1228.17 536.384,1208.79 538.727,1189.6 541.071,1170.6 543.414,1151.79 545.758,1133.16 548.101,1114.73 550.445,1146.69 552.788,1178.33 555.132,1209.65 557.475,1240.66 559.818,1221.15 562.162,1201.83 564.505,1182.71 566.849,1213.99 569.192,1194.75 571.536,1225.9 573.879,1206.54 576.223,1237.58 578.566,1268.31 580.91,1298.74 583.253,1278.64 585.597,1258.75 587.94,1239.06 590.284,1269.78 592.627,1300.19 594.971,1280.08 597.314,1260.17 599.658,1240.47 602.001,1220.96 604.345,1201.65 606.688,1182.53 609.031,1163.6 611.375,1144.86 613.718,1176.51 616.062,1157.65 618.405,1138.96 620.749,1170.68 623.092,1202.08 625.436,1233.17 627.779,1213.73 630.123,1194.49 632.466,1175.44 634.81,1156.58 637.153,1137.91 639.497,1119.43 641.84,1101.13 644.184,1083.01 646.527,1065.08 648.871,1047.33 651.214,1029.75 653.558,1012.35 655.901,995.12 658.245,1028.27 660.588,1010.89 662.931,993.675 665.275,976.634 667.618,1009.97 669.962,992.77 672.305,975.738 674.649,958.877 676.992,992.394 679.336,975.366 681.679,958.509 684.023,941.82 686.366,925.297 688.71,959.15 691.053,942.455 693.397,925.926 695.74,959.773 698.084,943.071 700.427,976.747 702.771,1010.09 705.114,992.881 707.458,975.848 709.801,958.985 712.144,942.291 714.488,925.765 716.831,909.403 719.175,893.205 721.518,877.169 723.862,911.503 726.205,895.284 728.549,879.227 730.892,863.331 733.236,847.594 735.579,882.224 737.923,866.297 740.266,850.53 742.61,834.921 744.953,819.468 747.297,804.169 749.64,789.023 751.984,774.029 754.327,759.185 756.671,744.489 759.014,780.15 761.357,765.245 763.701,750.488 766.044,786.089 768.388,771.125 770.731,756.309 773.075,741.642 775.418,777.332 777.762,762.455 780.105,797.936 782.449,833.063 784.792,817.628 787.136,802.348 789.479,787.22 791.823,772.244 794.166,757.418 796.51,742.739 798.853,728.208 801.197,764.032 803.54,749.288 805.884,734.691 808.227,770.45 810.571,805.852 812.914,840.899 815.257,875.597 817.601,859.737 819.944,844.035 822.288,828.491 824.631,813.102 826.975,797.867 829.318,782.784 831.662,767.852 834.005,803.28 836.349,788.143 838.692,773.158 841.036,808.532 843.379,793.343 845.723,778.305 848.066,763.418 850.41,748.68 852.753,734.089 855.097,719.644 857.44,705.344 859.784,741.396 862.127,726.878 864.47,762.716 866.814,798.195 869.157,783.109 871.501,768.174 873.844,753.388 876.188,738.75 878.531,724.258 880.875,709.912 883.218,745.919 885.562,731.356 887.905,767.148 890.249,752.373 892.592,737.745 894.936,723.264 897.279,708.927 899.623,694.734 901.966,680.682 904.31,666.771 906.653,653 908.997,689.576 911.34,725.786 913.684,761.634 916.027,746.914 918.37,782.551 920.714,767.622 923.057,752.841 925.401,788.419 927.744,773.431 930.088,758.592 932.431,743.902 934.775,729.359 937.118,765.172 939.462,800.626 941.805,785.516 944.149,770.557 946.492,755.747 948.836,741.086 951.179,726.571 953.523,712.201 955.866,748.185 958.21,733.599 960.553,719.159 962.897,704.864 965.24,690.711 967.583,676.7 969.927,662.829 972.27,699.307 974.614,685.21 976.957,671.254 979.301,707.647 981.644,693.467 983.988,679.428 986.331,715.74 988.675,701.478 991.018,687.36 993.362,723.592 995.705,709.252 998.049,745.266 1000.39,780.919 1002.74,766.006 1005.08,751.242 1007.42,736.626 1009.77,722.155 1012.11,707.83 1014.45,743.857 1016.8,729.315 1019.14,714.918 1021.48,700.664 1023.83,736.764 1026.17,722.292 1028.51,707.965 1030.86,693.782 1033.2,679.74 1035.54,665.838 1037.89,652.076 1040.23,688.661 1042.57,674.671 1044.92,711.03 1047.26,747.026 1049.61,732.452 1051.95,768.233 1054.29,753.447 1056.64,738.808 1058.98,724.316 1061.32,709.969 1063.67,745.976 1066.01,731.412 1068.35,767.204 1070.7,752.428 1073.04,737.799 1075.38,773.528 1077.73,758.688 1080.07,743.997 1082.41,779.664 1084.76,764.763 1087.1,800.221 1089.44,785.115 1091.79,770.16 1094.13,805.565 1096.47,790.405 1098.82,825.607 1101.16,810.247 1103.51,845.251 1105.85,879.904 1108.19,914.211 1110.54,948.175 1112.88,931.59 1115.22,915.17 1117.57,949.124 1119.91,932.529 1122.25,916.1 1124.6,950.045 1126.94,983.65 1129.28,966.71 1131.63,949.939 1133.97,933.335 1136.31,916.898 1138.66,950.835 1141,934.223 1143.34,917.776 1145.69,901.495 1148.03,885.376 1150.37,869.418 1152.72,903.83 1155.06,887.687 1157.41,871.707 1159.75,855.885 1162.09,840.223 1164.44,824.716 1166.78,809.365 1169.12,794.167 1171.47,779.122 1173.81,764.226 1176.15,799.69 1178.5,834.8 1180.84,869.558 1183.18,903.968 1185.53,938.035 1187.87,971.761 1190.21,954.939 1192.56,938.286 1194.9,921.799 1197.24,955.687 1199.59,939.026 1201.93,922.532 1204.27,956.412 1206.62,939.744 1208.96,923.243 1211.31,906.906 1213.65,890.733 1215.99,924.932 1218.34,958.789 1220.68,942.097 1223.02,925.572 1225.37,909.212 1227.71,893.016 1230.05,876.982 1232.4,911.318 1234.74,945.311 1237.08,928.754 1239.43,962.573 1241.77,996.053 1244.11,1029.2 1246.46,1011.8 1248.8,1044.79 1251.14,1027.24 1253.49,1009.86 1255.83,992.66 1258.17,1025.84 1260.52,1008.48 1262.86,1041.5 1265.21,1023.98 1267.55,1006.64 1269.89,989.465 1272.24,972.466 1274.58,955.638 1276.92,938.977 1279.27,972.694 1281.61,955.863 1283.95,939.2 1286.3,922.704 1288.64,956.583 1290.98,990.123 1293.33,973.118 1295.67,956.283 1298.01,939.616 1300.36,973.326 1302.7,956.489 1305.04,939.82 1307.39,923.318 1309.73,906.98 1312.07,890.807 1314.42,874.794 1316.76,858.942 1319.11,843.249 1321.45,827.712 1323.79,812.331 1326.14,797.104 1328.48,782.029 1330.82,817.315 1333.17,802.038 1335.51,786.913 1337.85,822.15 1340.2,806.825 1342.54,791.652 1344.88,826.842 1347.23,861.68 1349.57,896.169 1351.91,880.103 1354.26,864.198 1356.6,848.452 1358.94,832.864 1361.29,817.431 1363.63,852.363 1365.97,836.735 1368.32,871.474 1370.66,855.655 1373.01,890.205 1375.35,874.199 1377.69,908.563 1380.04,942.583 1382.38,926.054 1384.72,959.899 1387.07,943.196 1389.41,926.66 1391.75,910.29 1394.1,944.293 1396.44,927.746 1398.78,911.364 1401.13,895.147 1403.47,879.091 1405.81,863.196 1408.16,847.46 1410.5,831.882 1412.84,816.459 1415.19,801.19 1417.53,786.074 1419.87,771.109 1422.22,756.294 1424.56,791.837 1426.91,776.815 1429.25,761.943 1431.59,797.43 1433.94,782.351 1436.28,817.634 1438.62,852.564 1440.97,836.934 1443.31,821.461 1445.65,856.352 1448,840.685 1450.34,825.174 1452.68,860.028 1455.03,844.324 1457.37,828.777 1459.71,863.595 1462.06,898.065 1464.4,932.191 1466.74,965.975 1469.09,949.211 1471.43,932.615 1473.77,916.185 1476.12,899.919 1478.46,883.816 1480.8,867.874 1483.15,852.091 1485.49,836.466 1487.84,820.997 1490.18,805.683 1492.52,840.732 1494.87,875.431 1497.21,859.573 1499.55,843.873 1501.9,828.33 1504.24,863.153 1506.58,847.418 1508.93,831.839 1511.27,816.417 1513.61,851.359 1515.96,835.741 1518.3,870.49 1520.64,854.681 1522.99,839.03 1525.33,823.536 1527.67,808.197 1530.02,793.011 1532.36,777.976 1534.7,763.093 1537.05,748.358 1539.39,733.77 1541.74,719.328 1544.08,705.031 1546.42,741.087 1548.77,776.782 1551.11,812.121 1553.45,796.895 1555.8,781.822 1558.14,817.11 1560.48,801.835 1562.83,786.713 1565.17,771.742 1567.51,756.92 1569.86,742.247 1572.2,727.72 1574.54,713.339 1576.89,699.102 1579.23,685.007 1581.57,671.053 1583.92,657.238 1586.26,643.562 1588.6,630.022 1590.95,616.618 1593.29,603.347 1595.64,590.21 1597.98,577.204 1600.32,564.328 1602.67,551.58 1605.01,589.171 1607.35,626.385 1609.7,663.227 1612.04,649.491 1614.38,635.892 1616.73,672.639 1619.07,658.809 1621.41,645.117 1623.76,631.562 1626.1,618.142 1628.44,604.857 1630.79,641.914 1633.13,628.391 1635.47,615.003 1637.82,601.749 1640.16,638.838 1642.5,625.345 1644.85,611.988 1647.19,648.974 1649.54,685.59 1651.88,671.631 1654.22,657.81 1656.57,644.128 1658.91,630.583 1661.25,617.173 1663.6,603.897 1665.94,640.964 1668.28,627.451 1670.63,614.072 1672.97,600.827 1675.31,587.715 1677.66,574.734 1680,561.882 1682.34,549.16 1684.69,586.774 1687.03,573.802 1689.37,560.96 1691.72,548.247 1694.06,535.66 1696.4,523.199 1698.75,510.863 1701.09,498.651 1703.44,536.77 1705.78,524.299 1708.12,511.952 1710.47,549.938 1712.81,537.335 1715.15,575.068 1717.5,562.213 1719.84,549.487 1722.18,587.098 1724.53,574.123 1726.87,561.278 1729.21,548.561 1731.56,586.182 1733.9,573.216 1736.24,560.38 1738.59,597.882 1740.93,584.799 1743.27,571.847 1745.62,559.024 1747.96,546.33 1750.3,533.763 1752.65,521.321 1754.99,509.004 1757.34,496.81 1759.68,484.738 1762.02,472.786 1764.37,460.954 1766.71,449.241 1769.05,437.644 1771.4,476.374 1773.74,514.717 1776.08,552.676 1778.43,540.045 1780.77,527.54 1783.11,515.161 1785.46,502.905 1787.8,540.982 1790.14,528.468 1792.49,516.08 1794.83,503.815 1797.17,541.883 1799.52,529.36 1801.86,516.962 1804.2,504.689 1806.55,492.538 1808.89,530.719 1811.24,518.307 1813.58,506.02 1815.92,493.856 1818.27,481.813 1820.61,520.101 1822.95,507.796 1825.3,495.614 1827.64,533.764 1829.98,521.323 1832.33,559.216 1834.67,546.519 1837.01,584.16 1839.36,621.425 1841.7,608.107 1844.04,594.922 1846.39,581.868 1848.73,568.946 1851.07,556.152 1853.42,543.487 1855.76,530.948 1858.1,518.534 1860.45,506.245 1862.79,494.078 1865.14,482.033 1867.48,470.109 1869.82,458.304 1872.17,446.617 1874.51,485.257 1876.85,473.3 1879.2,461.463 1881.54,499.955 1883.88,487.851 1886.23,475.869 1888.57,464.006 1890.91,502.472 1893.26,490.343 1895.6,528.546 1897.94,516.156 1900.29,554.101 1902.63,541.456 1904.97,528.937 1907.32,516.544 1909.66,504.275 1912,492.128 1914.35,480.102 1916.69,468.197 1919.04,456.411 1921.38,444.743 1923.72,433.192 1926.07,421.756 1928.41,410.434 1930.75,449.436 1933.1,437.838 1935.44,426.355 1937.78,414.988 1940.13,403.734 1942.47,442.803 1944.81,431.27 1947.16,419.854 1949.5,408.551 1951.84,397.362 1954.19,386.284 1956.53,375.317 1958.87,414.67 1961.22,403.419 1963.56,392.281 1965.9,431.464 1968.25,420.046 1970.59,408.741 1972.94,397.55 1975.28,386.47 1977.62,375.502 1979.97,414.853 1982.31,403.6 1984.65,392.46 1987,381.431 1989.34,370.513 1991.68,359.704 1994.03,399.213 1996.37,438.327 1998.71,426.84 2001.06,415.467 2003.4,454.419 2005.74,492.981 2008.09,480.947 2010.43,469.033 2012.77,457.239 2015.12,445.563 2017.46,434.003 2019.8,422.559 2022.15,411.229 2024.49,450.223 2026.84,488.827 2029.18,476.835 2031.52,464.962 2033.87,453.209 2036.21,491.783 2038.55,479.761 2040.9,467.859 2043.24,456.077 2045.58,444.412 2047.93,432.864 2050.27,421.431 2052.61,460.323 2054.96,448.616 2057.3,437.025 2059.64,425.551 2061.99,414.192 2064.33,453.156 2066.67,441.52 2069.02,430.001 2071.36,418.597 2073.7,457.517 2076.05,496.048 2078.39,483.984 2080.74,472.04 2083.08,510.425 2085.42,548.427 2087.77,535.839 2090.11,573.587 2092.45,560.747 2094.8,548.035 2097.14,535.451 2099.48,522.992 2101.83,510.659 2104.17,498.448 2106.51,486.359 2108.86,474.392 2111.2,462.544 2113.54,501.025 2115.89,539.12 2118.23,526.625 2120.57,514.255 2122.92,502.008 2125.26,489.884 2127.6,477.881 2129.95,465.998 2132.29,454.234 2134.64,442.588 2136.98,431.058 2139.32,469.854 2141.67,458.051 2144.01,446.367 2146.35,434.799 2148.7,423.347 2151.04,412.009 2153.38,450.995 2155.73,439.381 2158.07,478.094 2160.41,466.209 2162.76,454.443 2165.1,442.794 2167.44,431.262 2169.79,419.846 2172.13,408.543 2174.47,447.564 2176.82,435.984 2179.16,424.52 2181.5,463.381 2183.85,451.643 2186.19,440.023 2188.54,428.519 2190.88,467.34 2193.22,505.772 2195.57,543.821 2197.91,531.279 2200.25,569.072 2202.6,556.277 2204.94,543.61 2207.28,531.07 2209.63,518.655 2211.97,506.365 2214.31,494.197 2216.66,532.361 2219,519.934 2221.34,507.63 2223.69,495.45 2226.03,483.391 2228.37,471.454 2230.72,459.635 2233.06,447.935 2235.4,436.351 2237.75,424.884 2240.09,413.531 2242.44,402.291 2244.78,391.164 2247.12,380.149 2249.47,369.243 2251.81,358.447 2254.15,347.758 2256.5,337.177 2258.84,326.701 2261.18,316.33 2263.53,306.062 2265.87,295.898 2268.21,285.835 2270.56,326.083 2272.9,315.718 2275.24,305.457 2277.59,295.298 2279.93,285.241 2282.27,275.284 2284.62,265.428 2286.96,255.669 2289.3,296.219 2291.65,286.153 2293.99,276.187 2296.34,266.321 2298.68,256.554 2301.02,246.884 2303.37,237.311 2305.71,227.834 2308.05,218.452 2310.4,209.163 2312.74,199.968 2315.08,190.864 2317.43,181.851 2319.77,172.929 2322.11,164.095 2324.46,155.35 2326.8,146.693 2329.14,188.332 2331.49,179.345 2333.83,170.447 2336.17,211.849 2338.52,202.626 2340.86,193.496 2343.2,184.457 2345.55,175.508 2347.89,166.649 2350.24,157.879 2352.58,149.196 2354.92,140.6 2357.27,132.09 2359.61,123.665 2361.95,115.324 2364.3,157.277 2366.64,148.6 2368.98,140.01 2371.33,131.506 2373.67,173.297 2376.01,164.46 2378.36,155.712 2380.7,147.051 2383.04,138.476 2385.39,129.987 2387.73,121.583 2390.07,113.263 2392.42,105.027 2394.76,96.8724 2397.1,139.01 2399.45,180.726 2401.79,171.815 2404.14,213.203 2406.48,254.177 2408.82,244.531 2411.17,234.982 2413.51,225.528 2415.85,216.168 2418.2,206.903 2420.54,197.73 2422.88,188.648 2425.23,229.868 2427.57,220.465 2429.91,211.157 2432.26,201.941 2434.6,243.028 2436.94,233.493 2439.29,274.265 2441.63,264.418 2443.97,254.67 2446.32,295.229 2448.66,335.383 2451,324.925 2453.35,364.782 2455.69,404.24 2458.03,393.094 2460.38,382.059 2462.72,371.134 2465.07,360.319 2467.41,349.612 2469.75,339.012 2472.1,328.518 2474.44,318.128 2476.78,307.843 2479.13,297.661 2481.47,287.58 2483.81,277.6 2486.16,267.72 2488.5,257.939 2490.84,248.255 2493.19,238.669 2495.53,279.388 2497.87,269.49 2500.22,309.902 2502.56,299.698 2504.9,289.597 2507.25,279.597 2509.59,269.697 2511.93,259.896 2514.28,300.404 2516.62,290.296 2518.97,330.499 2521.31,320.09 2523.65,309.785 2526,299.583 2528.34,289.483 2530.68,279.484 2533.03,269.585 2535.37,259.785 2537.71,250.084 2540.06,240.479 2542.4,230.97 2544.74,271.766 2547.09,312.155 2549.43,301.929 2551.77,342.016 2554.12,331.492 2556.46,321.073 2558.8,310.758 2561.15,300.547 2563.49,340.647 2565.83,330.137 2568.18,319.731 2570.52,309.43 "></polyline>
<path clip-path="url(#clip310)" d="M241.874 209.375 L542.465 209.375 L542.465 105.695 L241.874 105.695  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip310)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="241.874,209.375 542.465,209.375 542.465,105.695 241.874,105.695 241.874,209.375 "></polyline>
<polyline clip-path="url(#clip310)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="269.448,157.535 434.888,157.535 "></polyline>
<path clip-path="url(#clip310)" d="M476.304 177.223 Q474.498 181.852 472.785 183.264 Q471.072 184.676 468.202 184.676 L464.799 184.676 L464.799 181.112 L467.299 181.112 Q469.058 181.112 470.03 180.278 Q471.003 179.445 472.183 176.343 L472.947 174.399 L462.461 148.889 L466.975 148.889 L475.077 169.167 L483.179 148.889 L487.692 148.889 L476.304 177.223 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip310)" d="M494.984 170.88 L502.623 170.88 L502.623 144.515 L494.313 146.181 L494.313 141.922 L502.577 140.255 L507.252 140.255 L507.252 170.88 L514.891 170.88 L514.891 174.815 L494.984 174.815 L494.984 170.88 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path></svg>
</div>
</div>
</section>
<section id="bibliographical-remarks" class="level2">
<h2 class="anchored" data-anchor-id="bibliographical-remarks">Bibliographical remarks</h2>
<ul>
<li>For more about the notion of grammar competition, see <span class="citation" data-cites="Kro1989">Kroch (<a href="#ref-Kro1989" role="doc-biblioref">1989</a>)</span>, <span class="citation" data-cites="Kro1994">Kroch (<a href="#ref-Kro1994" role="doc-biblioref">1994</a>)</span></li>
<li>Variational learner originally from <span class="citation" data-cites="Yan2000">Yang (<a href="#ref-Yan2000" role="doc-biblioref">2000</a>)</span>, <span class="citation" data-cites="Yan2002">Yang (<a href="#ref-Yan2002" role="doc-biblioref">2002</a>)</span></li>
<li>Learning algorithm itself is old: <span class="citation" data-cites="BusMos1955">Bush and Mosteller (<a href="#ref-BusMos1955" role="doc-biblioref">1955</a>)</span></li>
</ul>
</section>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<ul>
<li>You’ve learned a few important concepts today:
<ul>
<li>Grammar competition and variational learning</li>
<li>How to sample objects according to a discrete probability distribution</li>
<li>How to use conditional statements</li>
<li>How to make a simple plot of a learning trajectory</li>
</ul></li>
<li>You get to practice these in the <a href="../homework/vl.html">homework</a></li>
<li>Next week, we’ll take the model to a new level and consider what happens when several variational learners interact</li>
</ul>
</section>
<section id="references" class="level2">




</section>

<p><span class="myfooter">© 2024 Henri Kauhanen. Reproduction of these materials without written permission from the author is prohibited.</span></p><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-BusMos1955" class="csl-entry" role="listitem">
Bush, Robert R., and Frederick Mosteller. 1955. <em>Stochastic Models for Learning</em>. New York, NY: Wiley.
</div>
<div id="ref-Kro1989" class="csl-entry" role="listitem">
Kroch, Anthony S. 1989. <span>“Reflexes of Grammar in Patterns of Language Change.”</span> <em>Language Variation and Change</em> 1 (3): 199–244. <a href="https://doi.org/10.1017/S0954394500000168">https://doi.org/10.1017/S0954394500000168</a>.
</div>
<div id="ref-Kro1994" class="csl-entry" role="listitem">
———. 1994. <span>“Morphosyntactic Variation.”</span> In <em>Proceedings of the 30th Annual Meeting of the <span>Chicago Linguistic Society</span></em>, edited by K. Beals, 180–201. Chicago, IL: Chicago Linguistic Society.
</div>
<div id="ref-Yan2000" class="csl-entry" role="listitem">
Yang, Charles D. 2000. <span>“Internal and External Forces in Language Change.”</span> <em>Language Variation and Change</em> 12: 231–50. <a href="https://doi.org/10.1017/S0954394500123014">https://doi.org/10.1017/S0954394500123014</a>.
</div>
<div id="ref-Yan2002" class="csl-entry" role="listitem">
———. 2002. <em>Knowledge and Learning in Natural Language</em>. Oxford: Oxford University Press.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>